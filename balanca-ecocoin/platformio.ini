[platformio]
default_envs = esp32dev

[env]
lib_deps =
  bogde/HX711

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

[env:uno]
platform = atmelavr
board = uno
framework = arduino

# Ambiente para rodar testes nativos (host) sem dependências de Arduino/HX711
[env:native]
platform = native
build_flags = -std=c++17
# Compila apenas arquivos que não dependem de Arduino/HX711
build_src_filter = +<core/> +<infra/FonteDePesoFake.cpp> +<infra/ConversorEcoCoinSimples.cpp> +<infra/FonteDePesoComFiltro.cpp> -<*>
